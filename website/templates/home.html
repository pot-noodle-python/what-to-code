{% extends "base.html" %}
{% block title %}What To Code{% endblock %}

{% block content %}
{% if not one %}
    {% for post in posts.items %}
        <div class="card">
            <p>{{ post.title }}</p>
            <p>{{ post.desc }}</p>
            <p id="likes-count-{{post.id}}">Likes: {{ post.likes }}</p>
            <p>Tags: {% for tag in post.tags %} #{{tag.name}}{% endfor %}</p>
            <button type="button" onclick="like({{post.id}})">Like</button>
        </div>
        <br />
    {% endfor %}
{% else %}
    {% for post in posts %}
        <div class="card">
            <p>{{ post.title }}</p>
            <p>{{ post.desc }}</p>
            <p id="likes-count-{{post.id}}">Likes: {{ post.likes }}</p>
            <p>Tags: {% for tag in post.tags %} #{{tag.name}}{% endfor %}</p>
            <button type="button" onclick="like({{post.id}})">Like</button>
        </div>
        <br />
    {% endfor %}
{% endif %}

{% if not one %}
    {% for page_num in posts.iter_pages() %}
        {% if page_num %}
            <a href="{{ url_for('views.home', page=page_num) }}">{{ page_num }}</a>
        {% else %}
            ...
        {% endif %}
    {% endfor %}
{% endif %}
{% endblock %}